/*
REFERENCES:

db.executeDbAdminCommand: http://mongodb.github.io/node-mongodb-native/3.1/api/Db.html#executeDbAdminCommand
collMod: https://docs.mongodb.com/manual/reference/command/collMod/
Document Validation: https://docs.mongodb.com/manual/core/schema-validation/index.html
JSON Schema: https://docs.mongodb.com/manual/reference/operator/query/jsonSchema/
*/

exports.up = function (queryInterface) {
  return queryInterface.query(async (db) => {
    return db.executeDbAdminCommand({
      collMod: '<%= tableName %>',
      validator: {
        // Mongo 3.6+ only
        $jsonSchema: {
          ...
        }
      }
    })
  })
}

exports.down = function (queryInterface) {
  return queryInterface.query(async (db) => {
    return db.executeDbAdminCommand({
      collMod: '<%= tableName %>',
      validator: {
        $jsonSchema: {
          ...
        }
      }
    })
  })
}
